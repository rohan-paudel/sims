<!DOCTYPE html>
<html>

<head>
  <title>Search Student</title>
  <link rel="stylesheet" href="/assets/css/searchStudent.css">
</head>

<script>
  function updateSemesterOptions() {
    const facultySelect = document.getElementById('facultyStudent');
    const semesterSelect = document.getElementById('semesterStudent');
    const selectedFaculty = facultySelect.value;

    // Reset the options
    semesterSelect.innerHTML = '';

    let maxSemesters = 8;

    if (selectedFaculty === 'BAR') {
      maxSemesters = 10;
    }

    for (let i = 1; i <= maxSemesters; i++) {
      const option = document.createElement('option');
      option.value = i;
      option.textContent = i;
      semesterSelect.appendChild(option);
    }

    // Enable or disable the semester select based on faculty selection
    semesterSelect.disabled = selectedFaculty === '';
  }

  // Set default values
  window.addEventListener('DOMContentLoaded', () => {
    const facultySelect = document.getElementById('facultyStudent');
    const semesterSelect = document.getElementById('semesterStudent');

    // Set default faculty
    facultySelect.value = 'BCT';

    // Trigger updateSemesterOptions to set default semester
    updateSemesterOptions();

    // Set default semester
    semesterSelect.value = '7';
  });
</script>


<body>

  <div class="studentData">
    <form action="" id="form1">
      <input type="string" placeholder="Roll No" id="rollNoStudent" pattern="KAT.*" required class="align-input">
      <input type="text" placeholder="Name of student" id="nameStudent" required>
      <select name="facultyStudent" id="facultyStudent" placeholder="Select Faculty" onchange="updateSemesterOptions()" required>
        <option value="BCT" selected>BCT</option>
        <option value="BCE">BCE</option>
        <option value="BEX">BEX</option>
        <option value="BEL">BEL</option>
        <option value="BEI">BEI</option>
        <option value="BME">BME</option>
        <option value="BAM">BAM</option>
        <option value="BIE">BIE</option>
        <option value="BAG">BAG</option>
        <option value="BGE">BGE</option>
        <option value="BAR">BAR</option>
        <option value="BAS">BAS</option>
        <option value="BCH">BCH</option>
      </select>
      <select name="semester" class="form-control" id="semesterStudent" required>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7" selected>7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
      </select>

      <button type="submit" id="button_search_student">Search</button></a><br>
    </form>
  </div>

  <div id="add_button" align="right">
    <a href="./addStudentDetails.html">
      <button type="submit" id="button_add_student">Add Student</button></a><br>
  </div>

  <center>
    <iframe src="./TableSearchStudent.html" title="description" id="framee" frameborder="0"></iframe>
  </center>

  <script>
    const framee = document.getElementById("framee");
    framee.onload
    framee.onload = function () {
      if (framee.contentWindow.document.body.scrollHeight < window.innerHeight) {
        framee.style.height = '100vh';
      } else {
        framee.style.height = framee.contentWindow.document.body.scrollHeight + 100 + 'px';
      }
    }
  </script>
</body>

</html>
